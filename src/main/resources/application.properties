spring.application.name=mcp_api

# MCP Server Configuration - Updated for Streamable HTTP
spring.ai.mcp.server.type=SYNC
spring.ai.mcp.server.name=exotelmcp-server
spring.ai.mcp.server.version=1.0.0

# Streamable HTTP Transport Configuration
spring.ai.mcp.server.transport=STREAMABLE_HTTP
spring.ai.mcp.server.endpoint=/mcp
spring.ai.mcp.server.session.enabled=true

# Enable web server for Streamable HTTP transport
spring.main.web-application-type=servlet
server.port=8085

# HTTP Buffer Configuration to handle larger responses
server.tomcat.max-http-response-header-size=65536
server.tomcat.max-swallow-size=10MB
server.tomcat.max-http-post-size=10MB
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# HTTP connection and timeout settings
server.tomcat.connection-timeout=30000
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=10

# Spring Web error handling
spring.web.resources.add-mappings=false
server.error.whitelabel.enabled=false

# Database configuration
spring.datasource.url=jdbc:h2:file:./data/exotel_callbacks
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# JPA configuration
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Exotel configuration
exotel.base.url=https://601085626559.ngrok-free.app

# Logging configuration
logging.level.com.example.mcp_api=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.file.name=./logs/mcp-server.log
